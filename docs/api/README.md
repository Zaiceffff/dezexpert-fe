# API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è - DezExpert Pro

## –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ DezExpert Pro. API –ø–æ—Å—Ç—Ä–æ–µ–Ω–æ –Ω–∞ Next.js App Router —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º TypeScript.

## –ë–∞–∑–æ–≤—ã–π URL

```
http://195.200.17.116:3000
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä—è–º—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ `/api`

## –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ —Ç—Ä–µ–±—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ JWT —Ç–æ–∫–µ–Ω, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `Authorization: Bearer {token}`.

## –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

#### POST /auth/login
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
**URL:** `http://195.200.17.116:3000/auth/login`
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "email": "string",
  "password": "string"
}
```
**–û—Ç–≤–µ—Ç (201 Created):**
```json
{
  "profile": {
    "email": "string",
    "id": "string",
    "name": "string",
    "surname": "string",
    "phone": "string",
    "haveTelegramToken": "boolean",
    "haveServicePrice": "boolean"
  },
  "accessToken": "string",
  "refreshToken": "string"
}
```
**–ó–∞–≥–æ–ª–æ–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞:**
- `access-control-allow-origin: *`
- `content-type: application/json; charset=utf-8`

#### POST /auth/register
**–û–ø–∏—Å–∞–Ω–∏–µ:** –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
**URL:** `http://195.200.17.116:3000/auth/register`
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "name": "string",
  "surname": "string",
  "email": "string",
  "phone": "string",
  "password": "string"
}
```
**–û—Ç–≤–µ—Ç:** 201 Created (–±–µ–∑ —Ç–µ–ª–∞ –æ—Ç–≤–µ—Ç–∞)

#### POST /auth/refresh-token
**–û–ø–∏—Å–∞–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ access token
**URL:** `http://195.200.17.116:3000/auth/refresh-token`
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "refreshToken": "string"
}
```
**–û—Ç–≤–µ—Ç—ã:**
- `200 OK` - –£—Å–ø–µ—à–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
- `201 Created` - –¢–æ–∫–µ–Ω –æ–±–Ω–æ–≤–ª–µ–Ω
- `400 Bad Request` - –û—à–∏–±–∫–∞ –≤ –∑–∞–ø—Ä–æ—Å–µ

### üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

#### GET /user/token-info
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ JWT —Ç–æ–∫–µ–Ω–µ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
**URL:** `http://195.200.17.116:3000/user/token-info`
**–ó–∞–≥–æ–ª–æ–≤–∫–∏:** `Authorization: Bearer {accessToken}`
**–û—Ç–≤–µ—Ç:** `200 OK` - —Å—Ç—Ä–æ–∫–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ç–æ–∫–µ–Ω–µ

#### GET /user/list
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
**URL:** `http://195.200.17.116:3000/user/list`
**–ó–∞–≥–æ–ª–æ–≤–∫–∏:** `Authorization: Bearer {accessToken}`
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `skipPages` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è –ø—Ä–æ–ø—É—Å–∫–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0)
- `pageSize` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10)
- `searchValue` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –ø–æ–∏—Å–∫–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "User")

#### GET /user/all
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
**URL:** `http://195.200.17.116:3000/user/all`
**–ó–∞–≥–æ–ª–æ–≤–∫–∏:** `Authorization: Bearer {accessToken}`

#### GET /user/profile
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
**URL:** `http://195.200.17.116:3000/user/profile`
**–ó–∞–≥–æ–ª–æ–≤–∫–∏:** `Authorization: Bearer {accessToken}`
**–û—Ç–≤–µ—Ç:**
```json
{
  "id": "string",
  "name": "string",
  "surname": "string",
  "botToken": "string | null",
  "botLink": "string",
  "email": "string",
  "phone": "string",
  "isAdmin": "boolean",
  "isVerified": "boolean",
  "unlimitedAccount": "boolean",
  "linkId": "string",
  "status": "string",
  "createdAt": "string",
  "updatedAt": "string",
  "tariff": {
    "id": "string",
    "name": "string",
    "price": "string",
    "isPromo": "boolean",
    "isActive": "boolean",
    "advantages": ["string"],
    "createdAt": "string",
    "updatedAt": "string"
  }
}
```

#### PATCH /user/password-reset-token
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ó–∞–ø—Ä–æ—Å —Ç–æ–∫–µ–Ω–∞ –¥–ª—è —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è
**URL:** `http://195.200.17.116:3000/user/password-reset-token`
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "email": "string"
}
```

#### PATCH /user/user-status/{id}
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
**URL:** `http://195.200.17.116:3000/user/user-status/{id}`
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `id` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "status": "Active"
}
```

#### POST /user/recover-password
**–û–ø–∏—Å–∞–Ω–∏–µ:** –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
**URL:** `http://195.200.17.116:3000/user/recover-password`
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "newPassword": "string",
  "token": "string"
}
```

#### DELETE /user/delete-user
**–û–ø–∏—Å–∞–Ω–∏–µ:** –£–¥–∞–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
**URL:** `http://195.200.17.116:3000/user/delete-user`
**–ó–∞–≥–æ–ª–æ–≤–∫–∏:** `Authorization: Bearer {accessToken}`

#### DELETE /user/by-id/{id}
**–û–ø–∏—Å–∞–Ω–∏–µ:** –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID
**URL:** `http://195.200.17.116:3000/user/by-id/{id}`
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `id` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
**–ó–∞–≥–æ–ª–æ–≤–∫–∏:** `Authorization: Bearer {accessToken}`

#### PATCH /user/by-id/{id}
**–û–ø–∏—Å–∞–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID
**URL:** `http://195.200.17.116:3000/user/by-id/{id}`
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `id` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "name": "string",
  "surname": "string",
  "email": "string",
  "isVerified": "boolean",
  "status": "string"
}
```

#### PATCH /user/password
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
**URL:** `http://195.200.17.116:3000/user/password`
**–ó–∞–≥–æ–ª–æ–≤–∫–∏:** `Authorization: Bearer {accessToken}`
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "oldPassword": "string",
  "newPassword": "string"
}
```

#### GET /user/order-list
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
**URL:** `http://195.200.17.116:3000/user/order-list`
**–ó–∞–≥–æ–ª–æ–≤–∫–∏:** `Authorization: Bearer {accessToken}`
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `skipPages` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è –ø—Ä–æ–ø—É—Å–∫–∞
- `pageSize` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

#### PATCH /user/service
**–û–ø–∏—Å–∞–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω –Ω–∞ —É—Å–ª—É–≥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
**URL:** `http://195.200.17.116:3000/user/service`
**–ó–∞–≥–æ–ª–æ–≤–∫–∏:** `Authorization: Bearer {accessToken}`
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "oneRoomLiquid": "number",
  "oneRoomGel": "number",
  "twoRoomLiquid": "number",
  "twoRoomGel": "number",
  "threeRoomLiquid": "number",
  "threeRoomGel": "number",
  "fourRoomLiquid": "number",
  "fourRoomGel": "number",
  "homeRoomLiquid": "number",
  "homeRoomGel": "number",
  "plotRoomLiquid": "number",
  "plotRoomGel": "number",
  "restaurantRoomLiquid": "number",
  "restaurantRoomGel": "number"
}
```

#### GET /user/service
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Ü–µ–Ω –Ω–∞ —É—Å–ª—É–≥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
**URL:** `http://195.200.17.116:3000/user/service`
**–ó–∞–≥–æ–ª–æ–≤–∫–∏:** `Authorization: Bearer {accessToken}`

### üí≥ –ü–ª–∞—Ç–µ–∂–∏

#### GET /payment/subscription-link/{tariffId}
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Ç–∞—Ä–∏—Ñ
**URL:** `http://195.200.17.116:3000/payment/subscription-link/{tariffId}`
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `tariffId` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–∞—Ä–∏—Ñ–∞
**–ó–∞–≥–æ–ª–æ–≤–∫–∏:** `Authorization: Bearer {accessToken}`
**–û—Ç–≤–µ—Ç:** `200 OK` - —Å—Ç—Ä–æ–∫–∞ —Å —Å—Å—ã–ª–∫–æ–π –Ω–∞ –æ–ø–ª–∞—Ç—É

#### GET /payment/payment-link/{tariffId}
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è —Ä–∞–∑–æ–≤–æ–π –æ–ø–ª–∞—Ç—ã —Ç–∞—Ä–∏—Ñ–∞
**URL:** `http://195.200.17.116:3000/payment/payment-link/{tariffId}`
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `tariffId` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–∞—Ä–∏—Ñ–∞
**–ó–∞–≥–æ–ª–æ–≤–∫–∏:** `Authorization: Bearer {accessToken}`
**–û—Ç–≤–µ—Ç:** `200 OK` - —Å—Ç—Ä–æ–∫–∞ —Å —Å—Å—ã–ª–∫–æ–π –Ω–∞ –æ–ø–ª–∞—Ç—É

#### GET /payment/cancel-subscription
**–û–ø–∏—Å–∞–Ω–∏–µ:** –û—Ç–º–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏
**URL:** `http://195.200.17.116:3000/payment/cancel-subscription`
**–ó–∞–≥–æ–ª–æ–≤–∫–∏:** `Authorization: Bearer {accessToken}`
**–û—Ç–≤–µ—Ç:** `200 OK` - —Å—Ç—Ä–æ–∫–∞ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º –æ—Ç–º–µ–Ω—ã

#### POST /payment/tochka-webhook
**–û–ø–∏—Å–∞–Ω–∏–µ:** Webhook –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π –æ—Ç –¢–æ—á–∫–∞ –ë–∞–Ω–∫–∞
**URL:** `http://195.200.17.116:3000/payment/tochka-webhook`
**–û—Ç–≤–µ—Ç:** `200 OK` - —Å—Ç—Ä–æ–∫–∞ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –æ–±—Ä–∞–±–æ—Ç–∫–∏

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –ø–ª–∞—Ç–µ–∂–µ–π –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ø–ª–∞—Ç–µ–∂–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –Ω–∞ —Ç–∞—Ä–∏—Ñ—ã.

### üìã –¢–∞—Ä–∏—Ñ—ã

#### GET /tariff/list
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö —Ç–∞—Ä–∏—Ñ–æ–≤
**URL:** `http://195.200.17.116:3000/tariff/list`
**–û—Ç–≤–µ—Ç:** `200 OK` - –º–∞—Å—Å–∏–≤ —Ç–∞—Ä–∏—Ñ–æ–≤ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "id": "string",
  "name": "string",
  "price": "string",
  "isPromo": "boolean",
  "isActive": "boolean",
  "advantages": ["string"],
  "createdAt": "string",
  "updatedAt": "string",
  "user": [
    {
      "id": "string",
      "name": "string",
      "surname": "string",
      "botToken": "string",
      "botLink": "string",
      "email": "string",
      "phone": "string",
      "password": "string",
      "isAdmin": "boolean",
      "isVerified": "boolean",
      "unlimitedAccount": "boolean",
      "linkId": "string",
      "passwordResetToken": "string",
      "status": "string",
      "createdAt": "string",
      "updatedAt": "string",
      "order": ["Order"],
      "tariff": "string",
      "service": "Service",
      "transaction": ["Transaction"]
    }
  ]
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠–Ω–¥–ø–æ–∏–Ω—Ç —Ç–∞—Ä–∏—Ñ–æ–≤ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–∞—Ä–∏—Ñ–∞—Ö –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö, –∫–æ—Ç–æ—Ä—ã–µ –∏—Ö –∏—Å–ø–æ–ª—å–∑—É—é—Ç.

### üîó Webhook'–∏

#### POST /hook/avito
**–û–ø–∏—Å–∞–Ω–∏–µ:** Webhook –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç Avito
**URL:** `http://195.200.17.116:3000/hook/avito`
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "id": "string",
  "version": "string",
  "timestamp": "number",
  "payload": {
    "type": "string",
    "value": {
      "id": "string",
      "chat_id": "string",
      "user_id": "number",
      "author_id": "number",
      "created": "number",
      "type": "string",
      "chat_type": "string",
      "content": {
        "text": "string"
      },
      "item_id": "number",
      "published_at": "string"
    }
  }
}
```

**–û—Ç–≤–µ—Ç:** `200 OK` - `true` –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–µ

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** Webhook –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Avito –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

### üå± –°–∏–¥—ã (–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ)

#### GET /seed
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–∏–¥–æ–≤ (—Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö)
**URL:** `http://195.200.17.116:3000/seed`
**–û—Ç–≤–µ—Ç:** `200 OK` - —Å–∏–¥—ã —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω—ã

#### GET /seed/tariff
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏–¥–æ–≤ –¥–ª—è —Ç–∞—Ä–∏—Ñ–æ–≤
**URL:** `http://195.200.17.116:3000/seed/tariff`
**–û—Ç–≤–µ—Ç:** `200 OK` - —Å–∏–¥—ã —Ç–∞—Ä–∏—Ñ–æ–≤ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω—ã

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å–∏–¥–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. –û–Ω–∏ —Å–æ–∑–¥–∞—é—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

### üõí –ó–∞–∫–∞–∑—ã

#### GET /order/list
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
**URL:** `http://195.200.17.116:3000/order/list`
**–ó–∞–≥–æ–ª–æ–≤–∫–∏:** `Authorization: Bearer {accessToken}`
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `skipPages` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è –ø—Ä–æ–ø—É—Å–∫–∞
- `pageSize` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

**–û—Ç–≤–µ—Ç:**
```json
{
  "data": [
    {
      "id": "65d61648-d5a9-49bb-a990-a11c0ffb69f7",
      "service": "cockroaches",
      "object": "apartment1",
      "count": "sometimes",
      "experience": "yes",
      "phoneNumber": "+79005553322",
      "address": "–í–∏—Ç–µ–±—Å–∫–∞—è 47",
      "name": "–Æ—Ä–∏–π–π–π–π–π–π–π–π",
      "chatId": null,
      "username": null,
      "orderCreated": true,
      "liquidPrice": 0,
      "jelPrice": 3000,
      "realPrice": 3000,
      "status": "Inprogress",
      "clientComment": "–∫–æ–º–º–µ–Ω—Ç",
      "dezinsectorComment": "",
      "expectDate": "2025-08-18",
      "createdAt": "2025-08-18T15:21:10.303Z",
      "updatedAt": "2025-08-18T15:44:14.843Z"
    }
  ],
  "count": 57
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –ü–æ–ª—è `chatId` –∏ `username` –º–æ–≥—É—Ç –±—ã—Ç—å `null`. –ü–æ–ª–µ `realPrice` –º–æ–∂–µ—Ç –±—ã—Ç—å `null`, –µ—Å–ª–∏ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞.

**–í–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤:**
- `New` - –ù–æ–≤—ã–π –∑–∞–∫–∞–∑
- `Inprogress` - –ó–∞–∫–∞–∑ –≤ —Ä–∞–±–æ—Ç–µ
- `completed` - –ó–∞–≤–µ—Ä—à–µ–Ω
- `cancelled` - –û—Ç–º–µ–Ω–µ–Ω

**–ü—Ä–∏–º–µ—Ä—ã —É—Å–ª—É–≥:**
- `cockroaches` - –¢–∞—Ä–∞–∫–∞–Ω—ã
- `–ö–ª–µ—â–∏` - –ö–ª–µ—â–∏
- `–¢–∞—Ä–∞–∫–∞–Ω—ã` - –¢–∞—Ä–∞–∫–∞–Ω—ã (—Ä—É—Å—Å–∫–∏–π)
- `–ú—É—Ö–∏ –∏ –∫–ª–æ–ø—ã` - –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —É—Å–ª—É–≥–∞
- `–ö–ª–æ–ø—ã` - –ö–ª–æ–ø—ã

#### POST /order
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞
**URL:** `http://195.200.17.116:3000/order`
**–ó–∞–≥–æ–ª–æ–≤–∫–∏:** `Authorization: Bearer {accessToken}`
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "service": "string",
  "object": "string",
  "count": "string",
  "experience": "string",
  "address": "string",
  "phoneNumber": "string",
  "name": "string",
  "clientComment": "string",
  "dezinsectorComment": "string",
  "dezinsectorId": "string",
  "expectDate": "string"
}
```

#### PATCH /order/by-id/{id}
**–û–ø–∏—Å–∞–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –ø–æ ID
**URL:** `http://195.200.17.116:3000/order/by-id/{id}`
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `id` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–∫–∞–∑–∞
**–ó–∞–≥–æ–ª–æ–≤–∫–∏:** `Authorization: Bearer {accessToken}`
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "service": "string",
  "object": "string",
  "count": "string",
  "experience": "string",
  "address": "string",
  "name": "string",
  "status": "string",
  "clientComment": "string",
  "dezinsectorComment": "string",
  "realPrice": "number"
}
```

### üìä –õ–∏–¥—ã

#### GET /api/leads
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ª–∏–¥–æ–≤
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `partnerId` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) - ID –ø–∞—Ä—Ç–Ω–µ—Ä–∞
- `limit` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 50)
- `search` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –ø–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω—É
- `status` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É

**–ü—Ä–∏–º–µ—Ä:**
```
GET /api/leads?partnerId=123&limit=20&search=–ò–≤–∞–Ω&status=new
```

**–û—Ç–≤–µ—Ç:**
```json
[
  {
    "id": "string",
    "partnerId": "string",
    "pestType": "string",
    "objectType": "string",
    "rooms": "string",
    "infestation": "string",
    "previousTreatment": "string",
    "phone": "string",
    "address": "string",
    "name": "string",
    "expectedDate": "string",
    "clientComment": "string",
    "approxPrice": "number",
    "status": "string",
    "source": "string",
    "createdAt": "string"
  }
]
```

#### GET /api/leads/[id]
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ª–∏–¥–µ
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `id` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ª–∏–¥–∞

#### POST /api/leads
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ª–∏–¥–∞
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "partnerId": "string",
  "pestType": "string",
  "objectType": "string",
  "rooms": "string",
  "infestation": "string",
  "previousTreatment": "string",
  "phone": "string",
  "address": "string",
  "name": "string",
  "expectedDate": "string",
  "clientComment": "string",
  "approxPrice": "number"
}
```

#### PUT /api/leads/[id]
**–û–ø–∏—Å–∞–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–∏–¥–∞
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `id` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ª–∏–¥–∞

#### DELETE /api/leads/[id]
**–û–ø–∏—Å–∞–Ω–∏–µ:** –£–¥–∞–ª–µ–Ω–∏–µ –ª–∏–¥–∞
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `id` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ª–∏–¥–∞

### üõí –ó–∞–∫–∞–∑—ã

#### GET /api/order/list
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `partnerId` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) - ID –ø–∞—Ä—Ç–Ω–µ—Ä–∞
- `status` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É
- `limit` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π

#### GET /api/order/[id]
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞–∫–∞–∑–µ
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `id` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–∫–∞–∑–∞

#### POST /api/order
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞

### ü§ù –ü–∞—Ä—Ç–Ω–µ—Ä—ã

#### GET /api/partners/[id]/pricing
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Ü–µ–Ω –ø–∞—Ä—Ç–Ω–µ—Ä–∞
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** `id` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–∞—Ä—Ç–Ω–µ—Ä–∞

### üì± SMS

#### POST /api/sms/send
**–û–ø–∏—Å–∞–Ω–∏–µ:** –û—Ç–ø—Ä–∞–≤–∫–∞ SMS —Å–æ–æ–±—â–µ–Ω–∏—è
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "phone": "string",
  "message": "string"
}
```

### ü§ñ AI

#### POST /api/ai/proxy
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—Ä–æ–∫—Å–∏ –¥–ª—è AI API
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:** –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ AI —Å–µ—Ä–≤–∏—Å–∞

### ‚è∞ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

#### GET /api/reminders/schedule
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π

## –ö–æ–¥—ã –æ—à–∏–±–æ–∫

- `200` - –£—Å–ø–µ—à–Ω–æ (OK)
- `201` - –°–æ–∑–¥–∞–Ω–æ (Created)
- `400` - –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å (Bad Request)
- `401` - –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω (Unauthorized)
- `403` - –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω (Forbidden)
- `404` - –ù–µ –Ω–∞–π–¥–µ–Ω–æ (Not Found)
- `500` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ (Internal Server Error)

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

- **Access Token** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ API –∑–∞–ø—Ä–æ—Å–æ–≤
- **Refresh Token** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è access token
- **Bearer Token** - –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `Authorization: Bearer {token}`
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª—è—Ç—å —Ç–æ–∫–µ–Ω –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ 401 –æ—à–∏–±–∫–∏

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–ª—É—á–µ–Ω–∏–µ –ª–∏–¥–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
```javascript
const response = await fetch('http://195.200.17.116:3000/leads?partnerId=123&status=new&limit=10', {
  headers: {
    'Authorization': `Bearer ${accessToken}`
  }
});
const leads = await response.json();
```

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ª–∏–¥–∞
```javascript
const response = await fetch('http://195.200.17.116:3000/leads', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': `Bearer ${accessToken}`
  },
  body: JSON.stringify({
    partnerId: '123',
    name: '–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤',
    phone: '+79001234567',
    address: '—É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, 1',
    pestType: '–¢–∞—Ä–∞–∫–∞–Ω—ã',
    objectType: '–ö–≤–∞—Ä—Ç–∏—Ä–∞',
    rooms: '2',
    infestation: '–°—Ä–µ–¥–Ω—è—è',
    previousTreatment: '–ù–µ—Ç',
    expectedDate: '2024-01-15',
    clientComment: '–°—Ä–æ—á–Ω–æ –Ω—É–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å',
    approxPrice: 5000
  })
});
```

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –¥–∞—Ç—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601 (YYYY-MM-DD)
- –¶–µ–Ω—ã —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ —Ä—É–±–ª—è—Ö
- –¢–µ–ª–µ—Ñ–æ–Ω—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (+7XXXXXXXXXX)
- –°—Ç–∞—Ç—É—Å—ã –ª–∏–¥–æ–≤: `new`, `in_progress`, `completed`, `cancelled`
- –°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤: `pending`, `confirmed`, `in_progress`, `completed`, `cancelled`

## –ü—Ä–∏–º–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞

```javascript
const refreshToken = async () => {
  const refreshToken = localStorage.getItem('refreshToken');
  
  const response = await fetch('http://195.200.17.116:3000/auth/refresh-token', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ refreshToken })
  });
  
  if (response.ok) {
    const { accessToken } = await response.json();
    localStorage.setItem('accessToken', accessToken);
    return accessToken;
  }
};
```
